# Django Weather Application

A Django web application that displays current weather information using the OpenWeatherMap API. The app allows users to search for any city worldwide and view real-time weather data including temperature, humidity, wind speed, and weather conditions.

![Weather App Screenshot](screenshot.png)

## Features

- ğŸŒ Search weather by city name (global coverage)
- ğŸŒ¡ï¸ Display current temperature in Celsius
- ğŸ’§ Show humidity percentage
- ğŸ’¨ Display wind speed
- â˜ï¸ Weather condition descriptions with icons
- ğŸ“± Responsive Bootstrap design
- ğŸ”’ Secure API key management with environment variables
- âš¡ Real-time data from OpenWeatherMap API

## Technologies Used

- **Backend:** Python 3.13, Django 5.2.7
- **Frontend:** HTML5, CSS3, Bootstrap 5.3.8
- **API:** OpenWeatherMap API
- **Environment Management:** python-decouple
- **Version Control:** Git & GitHub

---

## Project Setup Guide

### Step 1: Getting the API Key

1. Visit [OpenWeatherMap](https://openweathermap.org/)
2. Create a free account or log in
3. Navigate to: **Username â†’ My API Keys**
   - Or go directly to: https://home.openweathermap.org/api_keys
4. Copy your API key (Example format: `dagagagavrj188884846aagga681`)

âš ï¸ **IMPORTANT:** Never share your API key publicly or commit it to GitHub!

---

### Step 2: Creating the Weather App with Django

#### 2.1 Set Up Virtual Environment

Open your terminal/command prompt and navigate to your project directory:

Create virtual environment
python -m venv venv

Activate virtual environment
Windows:
venv\Scripts\activate

Mac/Linux:
source venv/bin/activate

text

#### 2.2 Install Django and Dependencies

Install Django
pip install Django

Install requests library (for API calls)
pip install requests

Install python-decouple (for environment variables)
pip install python-decouple

text

#### 2.3 Create Django Project

Create Django project named 'core'
django-admin startproject core .

Open in VS Code (optional)
code .

text

#### 2.4 Create Weather App

Create the weather application
python manage.py startapp weather

text

#### 2.5 Register the App

Open `core/settings.py` and add `'weather'` to `INSTALLED_APPS`:

INSTALLED_APPS = [
'django.contrib.admin',
'django.contrib.auth',
'django.contrib.contenttypes',
'django.contrib.sessions',
'django.contrib.messages',
'django.contrib.staticfiles',
'weather', # Add this line
]

text

**Why?** Adding the app name in `INSTALLED_APPS` activates it within your Django project, making its resources and code part of the overall application.

#### 2.6 Configure URLs

**Create `weather/urls.py`:**

from django.urls import path
from .views import index

urlpatterns = [
path('', index, name='index'),
]

text

**Update `core/urls.py`:**

from django.contrib import admin
from django.urls import path, include

urlpatterns = [
path('admin/', admin.site.urls),
path('', include('weather.urls')), # Add this line
]

text

**What this does:** Creates a URL route that connects the main project to the weather app. When users visit the homepage, Django will use the weather app's `index` view.

#### 2.7 Create Views

Create or update `weather/views.py`:

from django.shortcuts import render
import requests
from decouple import config

def index(request):
city = request.GET.get('city', 'New York')
api_key = config('API_KEY') # Get from .env file
url = f"http://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}&units=metric"

text
weather_data = {}
error_message = None

try:
    response = requests.get(url)
    response.raise_for_status()
    data = response.json()

    if data.get('cod') != 200:
        raise Exception(f"City {city} not found")

    weather_data = {
        'city': data['name'],
        'country': data['sys']['country'],
        'temperature': data['main']['temp'],
        'description': data['weather']['description'],
        'humidity': data['main']['humidity'],
        'wind_speed': data['wind']['speed'],
        'icon': data['weather']['icon'],
    }
except requests.exceptions.HTTPError as e:
    if e.response.status_code == 404:
        error_message = f"City '{city}' not found. Please check the spelling."
    else:
        error_message = f"Error fetching weather data: {str(e)}"
except requests.exceptions.RequestException as e:
    error_message = f"Network error: {str(e)}"
except Exception as e:
    error_message = f"An error occurred: {str(e)}"

return render(request, 'weather/index.html', {
    'weather_data': weather_data,
    'error_message': error_message
})
text

**Debugging Tip:** To inspect API response data, add this temporarily in your view:

response = requests.get(url)
data = response.json()
breakpoint() # This will pause execution and let you inspect 'data'

text

Then you can examine the API response structure in the terminal.

#### 2.8 Create Templates

Create the directory structure:
weather/
â”œâ”€â”€ templates/
â”‚ â””â”€â”€ weather/
â”‚ â””â”€â”€ index.html

text

Create your HTML template in `weather/templates/weather/index.html` (see full template in repository).

#### 2.9 Add Static Files (Optional)

If you have a favicon:

weather/
â”œâ”€â”€ static/
â”‚ â””â”€â”€ weather/
â”‚ â””â”€â”€ favicon.png

text

Reference it in your HTML with:
{% load static %}

<link rel="shortcut icon" href="{% static 'weather/favicon.png' %}" type="image/x-icon"> ```
Step 3: Protect Your API Key ğŸ”’
CRITICAL: Never commit API keys to GitHub! Follow these steps:

3.1 Install python-decouple
text
pip install python-decouple
3.2 Create .env File
Create a file named .env in your project root (same directory as manage.py):

text
API_KEY=your_actual_api_key_here
SECRET_KEY=your_django_secret_key_here
DEBUG=True
Replace:

your_actual_api_key_here with your OpenWeatherMap API key

your_django_secret_key_here with your Django secret key from settings.py

3.3 Update settings.py
Add this at the top of core/settings.py:

text
from pathlib import Path
from decouple import config  # Add this import

# Get SECRET_KEY from .env
SECRET_KEY = config('SECRET_KEY')

# Get DEBUG from .env
DEBUG = config('DEBUG', default=False, cast=bool)
3.4 Update views.py
Already done in Step 2.7 - we use config('API_KEY') instead of hardcoding.

3.5 Create .gitignore
Create a .gitignore file in your project root:

text
# Environment variables
.env
*.env

# Python
*.pyc
__pycache__/
*.py[cod]
*$py.class
*.so
.Python

# Django
*.log
local_settings.py
db.sqlite3
db.sqlite3-journal
media/

# Virtual Environment
venv/
vnev/
ENV/
env/
.venv

# IDE
.vscode/
.idea/
*.swp
*.swo
*~

# OS
.DS_Store
Thumbs.db
3.6 Create .env.example
Create a template file .env.example (this WILL be uploaded to GitHub):

text
API_KEY=your_openweather_api_key_here
SECRET_KEY=your_django_secret_key_here
DEBUG=True
This helps other developers know what environment variables they need.

Running the Application
First Time Setup
text
# 1. Clone the repository
git clone https://github.com/yourusername/weather-app.git
cd weather-app

# 2. Create virtual environment
python -m venv venv
venv\Scripts\activate  # Windows
# source venv/bin/activate  # Mac/Linux

# 3. Install dependencies
pip install -r requirements.txt

# 4. Set up environment variables
copy .env.example .env  # Windows
# cp .env.example .env  # Mac/Linux

# Edit .env and add your actual API keys

# 5. Run migrations
python manage.py migrate

# 6. Start development server
python manage.py runserver
Access the Application
Open your browser and visit: http://127.0.0.1:8000/

API Reference
OpenWeatherMap Current Weather API:

text
GET https://api.openweathermap.org/data/2.5/weather
Parameters:

q - City name (e.g., "London", "New York")

appid - Your API key

units - Temperature units (metric for Celsius, imperial for Fahrenheit)

Example Response:

text
{
  "name": "London",
  "sys": {"country": "GB"},
  "main": {
    "temp": 15.5,
    "humidity": 72
  },
  "weather": [
    {
      "description": "scattered clouds",
      "icon": "03d"
    }
  ],
  "wind": {"speed": 3.5}
}
Project Structure
text
weather-app/
â”œâ”€â”€ .env                      # Environment variables (NOT in Git)
â”œâ”€â”€ .env.example              # Template for environment variables
â”œâ”€â”€ .gitignore               # Git ignore file
â”œâ”€â”€ requirements.txt         # Python dependencies
â”œâ”€â”€ manage.py                # Django management script
â”œâ”€â”€ README.md                # This file
â”œâ”€â”€ core/                    # Django project settings
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ settings.py          # Project settings
â”‚   â”œâ”€â”€ urls.py              # Main URL configuration
â”‚   â”œâ”€â”€ asgi.py
â”‚   â””â”€â”€ wsgi.py
â””â”€â”€ weather/                 # Weather app
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ admin.py
    â”œâ”€â”€ apps.py
    â”œâ”€â”€ models.py
    â”œâ”€â”€ tests.py
    â”œâ”€â”€ views.py             # View logic for weather data
    â”œâ”€â”€ urls.py              # App URL configuration
    â”œâ”€â”€ static/
    â”‚   â””â”€â”€ weather/
    â”‚       â””â”€â”€ favicon.png
    â””â”€â”€ templates/
        â””â”€â”€ weather/
            â””â”€â”€ index.html   # Main template
Security Best Practices
âœ… DO:

Keep .env file in .gitignore

Use environment variables for all secrets

Provide .env.example as a template

Regenerate API keys if accidentally exposed

âŒ DON'T:

Commit .env file to Git

Hardcode API keys in source code

Share API keys publicly

Use production keys in development

Troubleshooting
"API key not found" Error
Solution: Make sure:

.env file exists in project root

.env contains API_KEY=your_key

No spaces around = sign

python-decouple is installed

"City not found" Error
Solution:

Check spelling of city name

Try adding country code: "London,UK"

Some small cities may not be in the database

Virtual Environment Not Activating
Windows:

text
venv\Scripts\activate.bat
Mac/Linux:

text
source venv/bin/activate